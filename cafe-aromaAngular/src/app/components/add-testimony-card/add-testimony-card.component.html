<article class="min-h-[301px] min-w-[317px] bg-white rounded-xl shadow-md p-8 flex flex-col items-center justify-center text-center hover:shadow-lg transition-shadow cursor-pointer">
    <ng-container *ngIf="!isAdding; else formTemplate">
      <button
        (click)="handleAddClick()"
        aria-label="Agregar nuevo testimonio"
        class="flex flex-col items-center justify-center text-primary hover:text-primary/50 focus:outline-none"
        style="max-width: 150px; margin: 0 auto"
      >
        <div class="w-24 h-24 rounded-full border-4 border-primary flex items-center justify-center text-6xl font-extrabold leading-none select-none">
          +
        </div>
        <span class="mt-4 text-lg font-semibold">Agregar tu reseña</span>
      </button>
    </ng-container>
  
    <ng-template #formTemplate>
      <form [formGroup]="form" (ngSubmit)="handleSubmit()" class="w-full max-w-md">
        <div class="mb-4">
          <label for="name" class="block text-left font-medium mb-1">
            Nombre <span class="text-red-500">*</span>
          </label>
          <input
            id="name"
            type="text"
            formControlName="name"
            class="w-full rounded border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400"
          />
        </div>
  
        <div class="mb-4">
          <label for="position" class="block text-left font-medium mb-1">
            Puesto (opcional)
          </label>
          <input
            id="position"
            type="text"
            formControlName="position"
            class="w-full rounded border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400"
          />
        </div>
  
        <div class="mb-4">
          <label for="photo" class="block text-left font-medium mb-1">
            URL de la imagen (opcional)
          </label>
          <input
            id="photo"
            type="url"
            formControlName="photo"
            placeholder="https://ejemplo.com/tu-photo.jpg"
            class="w-full rounded border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400"
          />
        </div>
  
        <div class="mb-4">
          <label for="comment" class="block text-left font-medium mb-1">
            Tu reseña <span class="text-red-500">*</span>
          </label>
          <textarea
            id="comment"
            formControlName="comment"
            rows="4"
            class="w-full rounded border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400 resize-none"
          ></textarea>
        </div>
  
        <p *ngIf="error" class="text-red-600 text-sm mb-4 text-left">{{ error }}</p>
  
        <div class="flex justify-between">
          <button
            type="button"
            (click)="handleCancel()"
            class="px-4 py-2 rounded bg-gray-300 hover:bg-gray-400 text-gray-700 focus:outline-none"
          >
            Cancelar
          </button>
          <button
            type="submit"
            class="px-4 py-2 rounded bg-primary hover:bg-primary/80 text-white font-semibold focus:outline-none"
          >
            Enviar
          </button>
        </div>
      </form>
    </ng-template>
  </article>
  